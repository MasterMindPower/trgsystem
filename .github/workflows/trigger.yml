name: Trigger Tiger URL

on:
  schedule:
    # Runs every 6 hours. You can change this cron expression.
    # Min interval is 5 minutes: '*/5 * * * *'
    # UTC: 01:30 to 16:30 -> IST: 07:00 to 22:00 (7 AM to 10 PM)
    - cron: '30 1-16 * * *'
  workflow_dispatch: # Allows manual triggering from GitHub UI

jobs:
  trigger_url:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger the URL
        run: |
          echo "Triggering Tiger URL..."
          # -s: Silent mode
          # -v: Verbose (so you can see headers in logs if needed, careful with secrets)
          # --max-time 60: Wait up to 60 seconds (since you said it takes 20-25s)
          # We use the secret TIGER_URL
          # -o /dev/null: Discard the output (response body) so it's not shown in logs
          curl -s -v -o /dev/null --max-time 60 "${{ secrets.TIGER_URL }}"
          echo " success json "
